<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MR Store</title>
    <style class="container text-center mt-4">
        div{
            height:200px;
            width:50%;
        }
    </style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="images1.jpg" 
background-size: cover;>

    <div class="container mt-5">
        <div class="row">
            <div class="col-12 text-center">
                <h2 class="alert alert-primary">Sales Record FY2022-23</h2>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <table class="table" id="element-to-print">
                    <thead>
                        <tr>
                            <th scope="col">S.No</th>
                            <th scope="col">Object</th>
                            <th scope="col">Sell</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th scope="row">1</th>
                            <td>Sports</td>
                            <td>1024</td>
                        </tr>
                        <tr>
                            <th scope="row">2</th>
                            <td>Casual</td>
                            <td>991</td>
                        </tr>
                        <tr>
                            <th scope="row">3</th>
                            <td>Food</td>
                            <td>1342</td>
                        </tr>
                        <tr>
                            <th scope="row">4</th>
                            <td>Stationary</td>
                            <td>1562</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <p style="page-break-before: always"></p>

        <div class="row mt-4">
            <div class="col-12 text-center">

                <h3 class="alert alert-info">Sales Graph</h3>
                <canvas id="salesChart" width="150vh" height="30"></canvas>
            </div>
        </div>
        <div class="container text-center mt-2">
            <button onclick="downloadWebpage()" class="btn btn-primary">Download as PDF</button>
          </div>
    </div>

        <!-- <div class="row mt-4">
            <div class="col-12 text-center">
                <button class="btn btn-success" onclick="downloadWebpage()">
                    Download Webpage as PDF
                </button>
            </div>
        </div>
    </div> -->

    <script >

        var salesData = {
            labels: ['Sports', 'Casuals', 'Food', 'Stationary'],
            datasets: [{
                label: 'Total Number Sales',
                data: [1024, 991, 1342, 1562],
                backgroundColor: [
                    'rgba(255, 99, 132, 0.7)',
                    'rgba(54, 162, 235, 0.7)',
                    'rgba(255, 206, 86, 0.7)',
                    'rgba(75, 192, 192, 0.7)',
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                ],
                borderWidth:1
            }]
        };

        var salesConfig = {
            type: 'bar',
            data: salesData,
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        };
        

        var salesChart = new Chart(document.getElementById('salesChart'), salesConfig);

        function make_pdf() {
            var element = document.getElementById('element-to-print');
            var opt = {
                margin: 1,
                filename: 'myfile.pdf',
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2 },
                jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
            };

            html2pdf(element, opt);
        }

        function downloadWebpage() {
            var element = document.documentElement; 
            var opt = {
                margin: 1,
                filename: 'webpage.pdf',
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2 },
                jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
            };

            html2pdf(element, opt);
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>